var interfaceTweaks = {	blockTopBar: false,	blockFooter: false,	expandPlayer: false,	singlePlayer: false,	init: function(source) {		if(source != 'page') {			interfaceTweaks.blockTopBar = (localStorage.getItem('interfacesBlockTopBar') == 'true')?true:false;			interfaceTweaks.blockFooter = (localStorage.getItem('interfacesBlockFooter') == 'true')?true:false;			interfaceTweaks.expandPlayer = (localStorage.getItem('interfacesExpandPlayer') == 'true')?true:false;			interfaceTweaks.singlePlayer = (localStorage.getItem('interfacesSinglePlayer') == 'true')?true:false;			if(source == 'options') {					document.getElementById("activateInterfacesBlockTopBar").checked = interfaceTweaks.blockTopBar;				document.getElementById("activateInterfacesBlockFooter").checked = interfaceTweaks.blockFooter;				document.getElementById("activateInterfacesExpendPlayer").checked = interfaceTweaks.expandPlayer;				document.getElementById("activateInterfacesSinglePlayer").checked = interfaceTweaks.singlePlayer;			}		}		else {			chrome.extension.sendRequest({name: "getInfos", resource:"interfaceTweaks"}, function(response) { 				interfaceTweaks.blockTopBar = response.blockTopBar;				interfaceTweaks.blockFooter = response.blockFooter;				interfaceTweaks.expandPlayer = response.expandPlayer;				interfaceTweaks.singlePlayer = response.singlePlayer;				interfaceTweaks.cleanInterface();			});		}	},	toggleStatus: function() {		localStorage.setItem("interfacesBlockTopBar", document.getElementById("activateInterfacesBlockTopBar").checked);		localStorage.setItem("interfacesBlockFooter", document.getElementById("activateInterfacesBlockFooter").checked);		localStorage.setItem("interfacesExpandPlayer", document.getElementById("activateInterfacesExpendPlayer").checked);		localStorage.setItem("interfacesSinglePlayer", document.getElementById("activateInterfacesSinglePlayer").checked);	},	cleanInterface: function() {		if(interfaceTweaks.blockTopBar) {		/**			CHIANT !		**/		}		if(interfaceTweaks.blockFooter) {		// Suppression du Footer			document.getElementById('homeFooterSeparator').style.display = 'none';			document.getElementById('homeFooter').style.display = 'none';		}		if(interfaceTweaks.expandPlayer) {			/*				Nothing to do, GS is OK.			*/		}			},	killPlayer: function() {		chrome.windows.getAll({populate : true},function(windows) {			var openedtab = false;			for(var i = 0; i < windows.length; i++) {				var j = 0;				for(var tab in windows[i].tabs) {					if(typeof windows[i].tabs[j] != "undefined" && typeof windows[i].tabs[j].url != "undefined") {						if(RegExp("^http(s)?://(listen\.)?grooveshark\.com","gi").test(windows[i].tabs[j].url)) {							if(!openedtab) {								openedtab = windows[i].tabs[j].id;							} else {								chrome.tabs.remove(windows[i].tabs[j].id);							}						}						j++;					}				}			}			chrome.tabs.update(openedtab, {				selected: true			});		});	}	}